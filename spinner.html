<link rel="stylesheet" type="text/css" href="spinner.css" />

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Spinner</title>
    <style></style>
  </head>
  <body>
    <div id="root">
      <canvas id="canvas" width="610" height="610" style="border:4px solid gray;"></canvas>
      <div id="spinner_container"></div>
    </div>
    <script>
      const root = document.getElementById("root");
      // refering to our canvas by id
      const c = document.getElementById("canvas");
      // context so that we can draw
      let ctx = c.getContext('2d');
      ctx.strokeStyle='black'
      ctx.lineWidth=4

      let spinnerFrames = [
        {
          id: "1",
          text: ["\r|"],
          state: 1
        },
        {
          id: "2",
          text: ["\r/"],
          state: 2
        },
        {
          id: "3",
          text: ["\r-"],
          state: 3
        },
        {
          id: "4",
          text: ["\r\\"],
          state: 4
        },
      ];


      // resets the grid screen after 5 seconds
      let state = 1;
      function showSpinner(){
        let spinnerContainerElement = document.getElementById('spinner_container')
        spinnerContainerElement.innerHTML = "AAAAAAAAAAAAAAAAAAAA"
        setInterval(() => {
          console.log("state:",state)
          if (state === 1) {
            console.log("a")
            spinnerContainerElement.innerHTML = spinnerFrames[0].text;
            state++;
          }
          if (state === 2) {
            console.log("b")
            spinnerContainerElement.innerHTML = spinnerFrames[1].text;
            state++;
          }
          if (state === 3) {
            console.log("c")
            spinnerContainerElement.innerHTML = spinnerFrames[2].text;
            state++;
          }
          if (state === 4) {
            console.log("d")
            spinnerContainerElement.innerHTML = spinnerFrames[3].text;
            state = 1;
          }
        }, 200);
      }
      showSpinner()

      id = setInterval(frame,5)
      function frame() {
        for (let frame of spinnerFrames){
          if (frame.state === 4){
            spinnerContainerElement.innerHTML = spinnerFrames[0].text;
            clearInterval(id)
          } 
        }
      }

      // small squares
      for (let i = 5; i <= 605; i=i+6) {
        // vert
        ctx.moveTo(i,5)
        ctx.lineTo(i,605)
        // horiz
        ctx.moveTo(5,i)
        ctx.lineTo(605,i)

        ctx.strokeStyle="#f0f0f0"
        ctx.stroke()
      }
      //  big squares (visual)
      ctx.beginPath();
      // 30 here makes 20 big grids
      for(let i=5; i<=605; i = i+30){
        ctx.moveTo(i,5)
        ctx.lineTo(i,605)
        // horiz
        ctx.moveTo(5,i)
        ctx.lineTo(605,i)

        ctx.strokeStyle="#c0c0c0"
        ctx.stroke()
      }









      // make empty 2d array with nothing in it (HELPER FUNC)
      // function make2DArray(cols,rows) {
      //   let arr = new Array(cols);
      //   for (let i = 0; i < arr.length; i++) {
      //     arr[i] = new Array(rows);
      //   }
      //   return arr
      // }

      // function setup() {
      //   createCanvas(200,200)
      //   cols = width / resolutions;
      //   rows = height / resolutions;

      //   grid = make2DArray(cols,rows);
      //   for (let i = 0; i < cols; i++){
      //     for (let j = 0; j < rows; j++){
      //       grid[i][j] = floor(random(2))
      //     }
      //   }
      // }
      
      // function draw() {
      //   for (let i = 0; i < cols; i++){
      //     for (let j = 0; j < rows; j++){
      //       let x = i * resolution;
      //       let y = j * resoltuion;
      //       if (grid[i][j] == 1) {
      //         fill(255);
      //         rect(x,y,resolution,resolution)
      //       }
      //     }
      //   }
      // }


    </script>
  </body>
</html>
