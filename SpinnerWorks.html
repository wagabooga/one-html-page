<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Spinnerworks</title>
    <style type="text/css">

      canvas {
        border: 1px solid black;
      }

      body {
        margin: 0;
      }


    </style>
  </head>
  <body>
    <canvas></canvas>
    <script >

      // Mouse Checker
      /* let pointerX = -1;
      let pointerY = -1;
      document.onmousemove = function(event) {
          pointerX = event.pageX;
          pointerY = event.pageY;
      }
      setInterval(pointerCheck, 1000);
      function pointerCheck() {
          console.log('Cursor at: ' + pointerX + ', ' + pointerY);
      } 

      

      */
      // declare constant variables
      const canvas = document.querySelector('canvas');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      const c = canvas.getContext('2d'); // c within canvas is always context
      

      function Circle(x, y, dx, dy, radius) {

        this.x = x;
        this.y = y;
        this.dx = dx;
        this.dy = dy;
        this.radius = radius;

        this.draw = function() {
          c.beginPath()
          c.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false)
          c.strokeStyle = 'blue';
          c.stroke()
        }

        this.update = function () {

           // this is bounce back
           if (this.x + this.radius > innerWidth || this.x - this.radius < 0) {
            this.dx = -this.dx;
          }
          if (this.y + this.radius > innerHeight || this.y - this.radius < 0) {
            this.dy = -this.dy;
          }
          // move
          this.x += this.dx
          this.y += this.dy

          this.draw()
        }
      }

      

      let circleArray = [];

      for (let i = 0; i < 100; i ++){
        let x = Math.random() * innerWidth;
        let y = Math.random() * innerHeight;
        let dx = (Math.random() - 0.5) * 15;
        let dy = (Math.random() - 0.5) * 15; 
        let radius = 30
        circleArray.push(new Circle(x, y, dx, dy, radius));
      }
      
      function animate() {
          requestAnimationFrame(animate);
          c.clearRect(0, 0, innerWidth, innerHeight)
          for (let i = 0; i < circleArray.length; i++) {
            circleArray[i].update();
          } 
      }
      
      animate();
    
    </script>
  </body>
</html>